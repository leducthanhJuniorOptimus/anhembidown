<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L·ª±a ch·ªçn em gh·ªá - Booking ƒê·ªôi B√≥ng</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/flowbite@4.0.1/dist/flowbite.min.css" rel="stylesheet" />

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <style>
        :root {
            --primary-color: #070707;
            --secondary-color: #4B0082;
            --accent-color: #FF6B6B;
            --light-color: #F8F9FA;
            --dark-color: #212529;
            --card-bg: #ffffff;
            --neutral-primary-soft: #f9fafb;
            --border-default: #e5e7eb;
            --text-heading: #111827;
            --text-body: #6b7280;
            --fg-brand: #3b82f6;
            --bg-brand: #3b82f6;
            --bg-brand-strong: #2563eb;
            --ring-brand-medium: rgba(59, 130, 246, 0.5);
            --shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding-top: 80px;
            min-height: 100vh;
            animation: fadeIn 1s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .navbar {
            background: linear-gradient(90deg, var(--secondary-color) 0%, var(--primary-color) 100%) !important;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            padding: 15px 0;
            animation: slideDown 0.8s ease-out;
        }

        @keyframes slideDown {
            from { transform: translateY(-100%); }
            to { transform: translateY(0); }
        }

        .navbar-brand {
            font-weight: 700;
            font-size: 1.5rem;
            color: white !important;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .navbar-brand i {
            color: var(--accent-color);
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        .carousel {
            border-radius: 15px;
            overflow: hidden;
            box-shadow: var(--shadow);
            margin-bottom: 40px;
            animation: fadeInUp 1s ease-out 0.3s both;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .carousel-item img {
            height: 500px;
            object-fit: cover;
        }

        .carousel-caption {
            background: rgba(0, 0, 0, 0.6);
            border-radius: 10px;
            padding: 20px;
            bottom: 40px;
            left: 10%;
            right: 10%;
            animation: slideInUp 1s ease-out;
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        h3 {
            color: var(--secondary-color);
            margin: 40px 0 30px;
            font-weight: 700;
            position: relative;
            padding-bottom: 15px;
            text-align: center;
            animation: fadeIn 1s ease-out 0.5s both;
        }

        h3::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-color) 0%, var(--accent-color) 100%);
            border-radius: 2px;
        }

        .card {
            border: none;
            border-radius: 15px;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            background-color: var(--card-bg);
            box-shadow: var(--shadow);
            height: 100%;
            animation: fadeInUp 0.8s ease-out;
            animation-fill-mode: both;
        }

        .card:hover {
            transform: translateY(-15px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }

        .card:nth-child(1) { animation-delay: 0.1s; }
        .card:nth-child(2) { animation-delay: 0.2s; }
        .card:nth-child(3) { animation-delay: 0.3s; }
        .card:nth-child(4) { animation-delay: 0.4s; }

        .card-img-top {
            height: 250px;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .card:hover .card-img-top {
            transform: scale(1.05);
        }

        .card-body {
            padding: 20px;
        }

        .card-title {
            color: var(--secondary-color);
            font-weight: 700;
            font-size: 1.4rem;
            margin-bottom: 10px;
        }

        .card-text {
            color: #666;
            font-size: 0.95rem;
            line-height: 1.5;
        }

        .list-group-item {
            border: none;
            padding: 10px 15px;
            color: #555;
            position: relative;
            padding-left: 30px;
        }

        .list-group-item::before {
            content: '‚úì';
            position: absolute;
            left: 10px;
            color: var(--primary-color);
            font-weight: bold;
        }

        .list-group-item:nth-child(even) {
            background-color: rgba(138, 43, 226, 0.05);
        }

        .btn-primary {
            background: linear-gradient(90deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            border: none;
            border-radius: 50px;
            padding: 12px 30px;
            font-weight: 600;
            transition: all 0.3s ease;
            display: block;
            width: 100%;
            margin-top: 15px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(138, 43, 226, 0.3);
            background: linear-gradient(90deg, var(--secondary-color) 0%, var(--primary-color) 100%);
        }

        .booking {
            display: flex;
            flex-direction: column;
            width: 100%;
            border-radius: 15px;
            overflow: hidden;
            background-color: var(--card-bg);
            box-shadow: var(--shadow);
            transition: all 0.4s ease;
            height: 100%;
            animation: fadeInUp 0.8s ease-out;
            animation-fill-mode: both;
        }

        .booking:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }

        .booking:nth-child(1) { animation-delay: 0.5s; }
        .booking:nth-child(2) { animation-delay: 0.6s; }
        .booking:nth-child(3) { animation-delay: 0.7s; }
        .booking:nth-child(4) { animation-delay: 0.8s; }

        .bokking-header img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .booking:hover .bokking-header img {
            transform: scale(1.05);
        }

        .bokking-body {
            padding: 20px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .cacemghe {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 30px;
            margin-bottom: 50px;
        }

        footer {
            background: linear-gradient(90deg, var(--secondary-color) 0%, var(--primary-color) 100%);
            color: white;
            padding: 30px 0;
            margin-top: 50px;
            text-align: center;
        }

        .badge {
            background-color: var(--accent-color);
            font-size: 0.8rem;
            padding: 5px 10px;
            border-radius: 20px;
            margin-bottom: 10px;
            display: inline-block;
        }

        .price-tag {
            position: absolute;
            top: 15px;
            right: 15px;
            background: linear-gradient(90deg, var(--accent-color) 0%, #FF8E53 100%);
            color: white;
            padding: 8px 15px;
            border-radius: 50px;
            font-weight: 700;
            font-size: 1.1rem;
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.4);
            z-index: 2;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .stats {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #eee;
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-weight: 700;
            font-size: 1.2rem;
            color: var(--primary-color);
        }

        .stat-label {
            font-size: 0.8rem;
            color: #777;
        }

        @media (max-width: 768px) {
            .cacemghe {
                grid-template-columns: 1fr;
            }
            
            .carousel-item img {
                height: 300px;
            }
            
            .navbar-brand {
                font-size: 1.2rem;
            }
        }

        .floating {
            animation: floating 3s ease-in-out infinite;
        }

        @keyframes floating {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
            padding: 20px;
            background-color: #f3f4f6;
        }

        /* Container ch√≠nh c·ªßa card */
        .pricing-card {
            width: 100%;
            max-width: 384px; /* max-w-sm = 384px */
            padding: 24px; /* p-6 = 1.5rem = 24px */
            background-color: var(--neutral-primary-soft);
            border: 1px solid var(--border-default);
            border-radius: 8px; /* rounded-base */
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05); /* shadow-xs */
        }

        /* Ti√™u ƒë·ªÅ */
        .card-title {
            margin-bottom: 16px; /* mb-4 = 1rem = 16px */
            font-size: 20px; /* text-xl = 1.25rem */
            font-weight: 500; /* font-medium */
            color: var(--text-body);
        }

        /* Ph·∫ßn gi√° */
        .price-wrapper {
            display: flex;
            align-items: baseline;
            color: var(--text-heading);
        }

        .price-amount {
            font-size: 48px; /* text-5xl = 3rem */
            font-weight: 800; /* font-extrabold */
            letter-spacing: -0.025em; /* tracking-tight */
        }

        .price-period {
            margin-left: 8px; /* ms-2 = 0.5rem */
            font-weight: 500;
            color: var(--text-body);
        }

        /* Danh s√°ch t√≠nh nƒÉng */
        .features-list {
            list-style: none;
            margin: 24px 0; /* my-6 = 1.5rem */
        }

        .features-list li {
            display: flex;
            align-items: center;
            margin-bottom: 16px; /* space-y-4 */
        }

        .features-list li:last-child {
            margin-bottom: 0;
        }

        /* Icon checkmark */
        .check-icon {
            width: 20px; /* w-5 = 1.25rem */
            height: 20px; /* h-5 = 1.25rem */
            flex-shrink: 0;
            color: var(--fg-brand);
            margin-right: 6px; /* me-1.5 = 0.375rem */
        }

        /* Text trong feature */
        .feature-text {
            color: var(--text-body);
        }

        /* Feature kh√¥ng available (line-through) */
        .features-list li.unavailable {
            text-decoration: line-through;
            text-decoration-color: var(--text-body);
        }

        /* N√∫t CTA */
        .cta-button {
            width: 100%;
            padding: 10px 16px; /* py-2.5 px-4 */
            background-color: var(--bg-brand);
            color: white;
            border: 1px solid transparent;
            border-radius: 8px;
            font-size: 14px; /* text-sm */
            font-weight: 500;
            line-height: 20px; /* leading-5 */
            cursor: pointer;
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            transition: background-color 0.2s ease;
        }

        .cta-button:hover {
            background-color: var(--bg-brand-strong);
        }

        .cta-button:focus {
            outline: none;
            box-shadow: 0 0 0 4px var(--ring-brand-medium);
        }
        /* CSS Responsive cho ph·∫ßn Buy - Th√™m v√†o ph·∫ßn <style> hi·ªán t·∫°i */

/* ƒêi·ªÅu ch·ªânh container buy */
.buy {
    display: flex;
    gap: 40px;
    justify-content: center;
    flex-wrap: wrap;
    padding: 0 20px;
    margin-bottom: 50px;
}

/* ƒêi·ªÅu ch·ªânh pricing-card c∆° b·∫£n */
.pricing-card {
    width: 100%;
    max-width: 384px;
    padding: 24px;
    background-color: var(--neutral-primary-soft);
    border: 1px solid var(--border-default);
    border-radius: 8px;
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    animation: fadeInUp 0.8s ease-out;
    animation-fill-mode: both;
}

.pricing-card:nth-child(1) { animation-delay: 0.1s; }
.pricing-card:nth-child(2) { animation-delay: 0.2s; }
.pricing-card:nth-child(3) { animation-delay: 0.3s; }

.pricing-card:hover {
    transform: translateY(-10px);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
}

/* Responsive cho Tablet (768px - 1024px) */
@media (max-width: 1024px) {
    .buy {
        gap: 30px;
        padding: 0 15px;
    }
    
    .pricing-card {
        max-width: 340px;
        padding: 20px;
    }
    
    .price-amount {
        font-size: 42px;
    }
    
    .features-list {
        margin: 20px 0;
    }
    
    .features-list li {
        margin-bottom: 14px;
        font-size: 0.95rem;
    }
}

/* Responsive cho Mobile L·ªõn (576px - 768px) */
@media (max-width: 768px) {
    .buy {
        gap: 25px;
        padding: 0 10px;
    }
    
    .pricing-card {
        max-width: 100%;
        padding: 20px;
    }
    
    .card-title {
        font-size: 18px;
        margin-bottom: 14px;
    }
    
    .price-amount {
        font-size: 38px;
    }
    
    .price-period {
        font-size: 14px;
    }
    
    .features-list {
        margin: 18px 0;
    }
    
    .features-list li {
        margin-bottom: 12px;
        font-size: 0.9rem;
    }
    
    .check-icon {
        width: 18px;
        height: 18px;
        margin-right: 8px;
    }
    
    .cta-button {
        padding: 12px 16px;
        font-size: 15px;
    }
}

/* Responsive cho Mobile Nh·ªè (< 576px) */
@media (max-width: 576px) {
    h1 {
        font-size: 1.5rem !important;
        padding: 0 15px;
    }
    
    .buy {
        gap: 20px;
        padding: 0 10px;
    }
    
    .pricing-card {
        padding: 18px;
        border-radius: 10px;
    }
    
    .card-title {
        font-size: 17px;
        margin-bottom: 12px;
    }
    
    .price-wrapper {
        flex-direction: column;
        align-items: flex-start;
    }
    
    .price-amount {
        font-size: 36px;
    }
    
    .price-period {
        margin-left: 0;
        margin-top: 4px;
        font-size: 13px;
    }
    
    .features-list {
        margin: 16px 0;
    }
    
    .features-list li {
        margin-bottom: 10px;
        font-size: 0.85rem;
        align-items: flex-start;
    }
    
    .check-icon {
        width: 16px;
        height: 16px;
        margin-right: 6px;
        margin-top: 2px;
    }
    
    .feature-text {
        flex: 1;
        line-height: 1.4;
    }
    
    .cta-button {
        padding: 11px 14px;
        font-size: 14px;
        border-radius: 6px;
    }
}

/* Responsive cho Mobile R·∫•t Nh·ªè (< 400px) */
@media (max-width: 400px) {
    .buy {
        gap: 15px;
    }
    
    .pricing-card {
        padding: 16px;
    }
    
    .card-title {
        font-size: 16px;
    }
    
    .price-amount {
        font-size: 32px;
    }
    
    .features-list li {
        font-size: 0.8rem;
    }
    
    .cta-button {
        padding: 10px 12px;
        font-size: 13px;
    }
}

/* ƒê·∫£m b·∫£o c√°c card lu√¥n c√≥ chi·ªÅu cao ƒë·ªìng ƒë·ªÅu tr√™n c√πng m·ªôt h√†ng */
@media (min-width: 769px) {
    .buy {
        align-items: stretch;
    }
    
    .pricing-card {
        display: flex;
        flex-direction: column;
    }
    
    .features-list {
        flex-grow: 1;
    }
}

/* Animation m∆∞·ª£t m√† h∆°n khi resize */
.pricing-card,
.card-title,
.price-wrapper,
.features-list,
.cta-button {
    transition: all 0.3s ease;
}

.Weather {
    margin: 0 auto;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
      background: #ffffff;
      border-radius: 12px;
      padding: 2rem;
      max-width: 600px;
      width: 100%;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
      text-align: center;
    }

    .Weather-Header {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 1rem;
      margin-bottom: 1rem;
    }

    .Weather-Header img {
      width: 64px;
      height: 64px;
    }

    h1, h2 {
      margin: 0;
      color: #333;
    }

    .forecast {
      margin-top: 2rem;
    }

    .day {
      border-top: 1px solid #ccc;
      margin-top: 1rem;
      padding-top: 1rem;
    }

    input[type="text"] {
      padding: 0.5rem;
      font-size: 16px;
      width: 80%;
      margin-bottom: 1rem;
      border-radius: 6px;
      border: 1px solid #aaa;
    }

    button {
      padding: 0.5rem 1rem;
      background: #007acc;
      color: white;
      font-size: 16px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }

    button:hover {
      background: #005f99;
    }
    .taixiu-game-container {
    max-width: 900px;
    margin: 0 auto;
    background: white;
    border-radius: 20px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
    padding: 40px;
    animation: fadeInUp 0.8s ease-out;
}

.game-title {
    color: var(--secondary-color);
    font-size: 2.5rem;
    font-weight: 700;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
    margin-bottom: 30px;
}

/* S·ªë d∆∞ */
.balance-display {
    margin-bottom: 30px;
}

.balance-card {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    background: linear-gradient(135deg, var(--secondary-color) 0%, var(--primary-color) 100%);
    color: white;
    padding: 15px 30px;
    border-radius: 50px;
    font-size: 1.2rem;
    font-weight: 600;
    box-shadow: 0 5px 15px rgba(75, 0, 130, 0.3);
}

.balance-card i {
    font-size: 1.5rem;
    color: #FFD700;
}

.balance-amount {
    font-size: 1.5rem;
    font-weight: 700;
    color: #FFD700;
}

/* X√∫c x·∫Øc */
.dice-container {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin: 40px 0;
}

.dice {
    width: 80px;
    height: 80px;
    background: linear-gradient(145deg, var(--accent-color), #ee5a6f);
    border-radius: 15px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 42px;
    color: white;
    font-weight: bold;
    box-shadow: 0 8px 16px rgba(0,0,0,0.3);
    transition: transform 0.3s ease;
}

.dice:hover {
    transform: translateY(-5px);
}

@keyframes roll {
    0% { transform: rotateX(0deg) rotateY(0deg); }
    100% { transform: rotateX(720deg) rotateY(720deg); }
}

.dice.rolling {
    animation: roll 1s ease-out;
}

/* K·∫øt qu·∫£ */
.result-display {
    text-align: center;
    margin: 30px 0;
    padding: 25px;
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    border-radius: 15px;
}

.result-display h3 {
    color: var(--secondary-color);
    margin-bottom: 15px;
    font-size: 1.5rem;
}

.total-score {
    font-size: 3rem;
    font-weight: 700;
    color: var(--accent-color);
    margin: 10px 0;
}

.outcome {
    font-size: 2rem;
    font-weight: 700;
    margin-top: 10px;
}

.outcome.tai { color: #27ae60; }
.outcome.xiu { color: #3498db; }

/* Form ƒë·∫∑t c∆∞·ª£c */
.betting-form {
    background: rgba(75, 0, 130, 0.05);
    padding: 30px;
    border-radius: 15px;
    margin: 30px 0;
}

.betting-form h4 {
    color: var(--secondary-color);
    font-weight: 700;
}

.bet-selection {
    display: flex;
    gap: 20px;
    justify-content: center;
}

.bet-btn {
    flex: 1;
    max-width: 200px;
    padding: 20px;
    font-size: 1.5rem;
    font-weight: 700;
    border: 3px solid transparent;
    border-radius: 15px;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 5px;
}

.bet-btn small {
    font-size: 0.8rem;
    font-weight: 400;
}

.bet-btn.tai {
    background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
    color: white;
}

.bet-btn.xiu {
    background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    color: white;
}

.bet-btn:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0,0,0,0.2);
}

.bet-btn.active {
    transform: scale(1.05);
    border-color: #FFD700;
    box-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
}

/* Input s·ªë ti·ªÅn */
.amount-input-section label {
    font-weight: 600;
    color: var(--secondary-color);
}

.amount-input {
    text-align: center;
    font-size: 1.2rem;
    font-weight: 600;
    border: 2px solid var(--secondary-color);
    border-radius: 10px;
    padding: 12px;
}

.amount-input:focus {
    border-color: var(--accent-color);
    box-shadow: 0 0 0 0.2rem rgba(255, 107, 107, 0.25);
}

/* N√∫t c∆∞·ª£c nhanh */
.quick-amounts {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    justify-content: center;
}

.quick-btn {
    padding: 10px 20px;
    background: white;
    border: 2px solid var(--secondary-color);
    color: var(--secondary-color);
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
}

.quick-btn:hover {
    background: var(--secondary-color);
    color: white;
    transform: translateY(-2px);
}

/* N√∫t ch∆°i */
.play-btn {
    width: 100%;
    padding: 18px;
    font-size: 1.3rem;
    font-weight: 700;
    background: linear-gradient(90deg, var(--primary-color) 0%, var(--secondary-color) 100%);
    color: white;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    transition: all 0.3s ease;
    text-transform: uppercase;
    letter-spacing: 1px;
    box-shadow: 0 8px 16px rgba(75, 0, 130, 0.3);
}

.play-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 12px 24px rgba(75, 0, 130, 0.4);
}

.play-btn:disabled {
    background: #95a5a6;
    cursor: not-allowed;
    transform: none;
}

/* L·ªãch s·ª≠ */
.history-section {
    background: #f8f9fa;
    padding: 20px;
    border-radius: 15px;
}

.history-section h5 {
    color: var(--secondary-color);
    font-weight: 700;
}

.history-list {
    max-height: 300px;
    overflow-y: auto;
}

.history-item {
    padding: 15px;
    margin-bottom: 10px;
    background: white;
    border-radius: 10px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    border-left: 4px solid transparent;
}

.history-item.win {
    border-left-color: #27ae60;
}

.history-item.lose {
    border-left-color: #e74c3c;
}

.history-info {
    flex: 1;
}

.history-time {
    font-size: 0.9rem;
    color: #666;
}

.history-details {
    margin-top: 5px;
    font-weight: 600;
    color: var(--secondary-color);
}

.history-amount {
    font-size: 1.2rem;
    font-weight: 700;
}

.history-amount.win {
    color: #27ae60;
}

.history-amount.lose {
    color: #e74c3c;
}

/* Message popup */
.game-message {
    position: fixed;
    top: 100px;
    left: 50%;
    transform: translateX(-50%);
    padding: 20px 40px;
    background: white;
    border-radius: 10px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    font-size: 1.3rem;
    font-weight: 700;
    z-index: 9999;
    display: none;
    animation: slideDown 0.5s ease-out;
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translate(-50%, -50px);
    }
    to {
        opacity: 1;
        transform: translate(-50%, 0);
    }
}

.game-message.win {
    color: #27ae60;
    border: 3px solid #27ae60;
}

.game-message.lose {
    color: #e74c3c;
    border: 3px solid #e74c3c;
}

/* Responsive */
@media (max-width: 768px) {
    .taixiu-game-container {
        padding: 20px;
    }
    
    .game-title {
        font-size: 1.8rem;
    }
    
    .dice {
        width: 60px;
        height: 60px;
        font-size: 32px;
    }
    
    .bet-selection {
        flex-direction: column;
    }
    
    .bet-btn {
        max-width: 100%;
    }
    
    .quick-amounts {
        gap: 8px;
    }
    
    .quick-btn {
        padding: 8px 15px;
        font-size: 0.9rem;
    }
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="fas fa-futbol"></i>
                C√°c Em Gh·ªá
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#"><i class="fas fa-home"></i> Trang ch·ªß</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container">
        <div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-indicators">
                <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-label="Slide 2"></button>
                <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" aria-label="Slide 3"></button>
            </div>
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="image/anhemdowny.jpg" class="d-block w-100" alt="ƒê·ªôi b√≥ng">
                    <div class="carousel-caption d-none d-md-block">
                        <h5>Anh em b·ªã downy</h5>
                        <p>D√π b·ªã down nh∆∞ng ae v·∫´n si√™u sao ƒë∆∞·ª£c</p>
                    </div>
                </div>
                <div class="carousel-item ">
                    <img src="image/caochanhai.jpg" class="d-block w-100" alt="ƒê·ªôi b√≥ng">
                    <div class="carousel-caption d-none d-md-block">
                        <h5>Em ƒê√°nh R∆°i Ng∆∞·ªùi Y√™u N√†y</h5>
                        <p>H·ªôi Anh Em Thi·ªÉu NƒÉng</p>
                    </div>
                </div>
                <div class="carousel-item">
                    <img src="image/giadinhminion.jpg" class="d-block w-100" alt="ƒê·ªôi b√≥ng">
                    <div class="carousel-caption d-none d-md-block">
                        <h5>Team si√™u sao</h5>
                        <p>Ch√∫ng t√¥i l√† nh·ªØng si√™u sao th·ª±c th·ª•</p>
                    </div>
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>

        <h3 class="floating">C√°c em gh·ªá ƒë∆∞·ª£c Booking nhi·ªÅu nh·∫•t</h3>
        
        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4 mb-5">
            <div class="col">
                <div class="card h-100">
                    <div class="position-relative">
                        <img src="image/sie√Ωai.jpg" class="card-img-top" alt="Cao Ch·∫•n H·∫£i">
                        <div class="price-tag">950K</div>
                    </div>
                    <div class="card-body">
                        <span class="badge">ƒê∆∞·ª£c y√™u th√≠ch</span>
                        <h5 class="card-title">Cao Ch·∫•n H·∫£i</h5>
                        <p class="card-text">Luy·ªán m·ªôt chi√™u 20000 l·∫ßn nh∆∞ng v·∫´n ƒë√©o th√†nh th·∫°o ƒë∆∞·ª£c</p>
                        <ul class="list-group list-group-flush">
                            <h6 class="text-center text-danger fw-bold my-3">K·ª∏ NƒÇNG ƒê·∫∂C BI·ªÜT</h6>
                            <li class="list-group-item">Ph√°t ƒë·∫ßu th·∫±ng n√†o kh√¥ng ƒë·ª° ƒë∆∞·ª£c l√† win</li>
                            <li class="list-group-item">Ch√¢n nh∆∞ kh√∫c g·ªó, ƒë·ª° banh th√¨ c·ª© kameha</li>
                            <li class="list-group-item">N·∫øu b·∫°n ch·ª≠i n√≥, n√≥ s·∫Ω t·∫•n c√¥ng v√†o th·∫≠n b·∫°n</li>
                        </ul>
                        <a href="#" class="btn btn-primary mt-3"><i class="fas fa-calendar-check"></i> Booking ngay</a>
                    </div>
                </div>
            </div>
            
            <div class="col">
                <div class="card h-100">
                    <div class="position-relative">
                        <img src="image/nguyentuanduy1.jpg" class="card-img-top" alt="Nguy·ªÖn Tu·∫•n Duy">
                        <div class="price-tag">890K</div>
                    </div>
                    <div class="card-body">
                        <span class="badge">Si√™u sao</span>
                        <h5 class="card-title">Nguy·ªÖn Tu·∫•n Duy</h5>
                        <p class="card-text">ƒê·ª´ng ƒë·ªÉ anh ph·∫£i th√≠ch nghi v√† emoji</p>
                        <ul class="list-group list-group-flush">
                            <h6 class="text-center text-danger fw-bold my-3">K·ª∏ NƒÇNG ƒê·∫∂C BI·ªÜT</h6>
                            <li class="list-group-item">Ph√°t n√≥ c·ª© g·ªçi l√† kh·ªßng</li>
                            <li class="list-group-item">Tr√¨nh ƒë·ªô b∆∞·ªõc 1 th√¨ n√≥ c·ª© ph·∫£i g·ªçi l√† th∆∞·ª£ng th·ª´a</li>
                            <li class="list-group-item">N·∫øu th·∫Øng th√¨ Emoji, n·∫øu thua ch√∫ng m√†y ƒë·ª£i tao th√≠ch nghi</li>
                        </ul>
                        <a href="#" class="btn btn-primary mt-3"><i class="fas fa-calendar-check"></i> Booking ngay</a>
                    </div>
                </div>
            </div>
            
            <div class="col">
                <div class="card h-100">
                    <div class="position-relative">
                        <img src="image/kietduong.jpg" class="card-img-top" alt="D∆∞∆°ng Anh Ki·ªát">
                        <div class="price-tag">200K</div>
                    </div>
                    <div class="card-body">
                        <span class="badge">Cao r√°o</span>
                        <h5 class="card-title">D∆∞∆°ng Anh Ki·ªát</h5>
                        <p class="card-text">M√†y c√≥ th·ªÉ ƒë√°nh gi√° l√† tao cao, nh∆∞ng ƒë·ª©ng nh√¨n chi·ªÅu cao m√† ƒë√°nh gi√° tr√¨nh ƒë·ªô</p>
                        <ul class="list-group list-group-flush">
                            <h6 class="text-center text-danger fw-bold my-3">K·ª∏ NƒÇNG ƒê·∫∂C BI·ªÜT</h6>
                            <li class="list-group-item">Si√™u Sao</li>
                            <li class="list-group-item">Skill ƒë·ªânh cao spam nhi·ªÅu l·∫ßn l√† n·∫Øm ƒë·∫•m</li>
                            <li class="list-group-item">Chuy·ªÉn 2 th√¨ 100 c√∫ ƒë∆∞·ª£c 1 c√∫. L√¢u l√¢u si√™u sao ƒë∆∞·ª£c 1 l·∫ßn</li>
                        </ul>
                        <a href="#" class="btn btn-primary mt-3"><i class="fas fa-calendar-check"></i> Booking ngay</a>
                    </div>
                </div>
            </div>
            
            <div class="col">
                <div class="card h-100">
                    <div class="position-relative">
                        <img src="image/AnhThanh.jpg" class="card-img-top" alt="L√™ ƒê·ª©c Th√†nh">
                        <div class="price-tag">880K</div>
                    </div>
                    <div class="card-body">
                        <span class="badge">Hu·∫•n luy·ªán vi√™n</span>
                        <h5 class="card-title">L√™ ƒê·ª©c Th√†nh</h5>
                        <p class="card-text">Hu·∫•n Luy·ªán Vi√™n Online Chuy√™n ƒê√†o T·∫°o c√°c h·∫°t gi·ªëng n√£y m·∫ßm</p>
                        <ul class="list-group list-group-flush">
                            <h6 class="text-center text-danger fw-bold my-3">K·ª∏ NƒÇNG ƒê·∫∂C BI·ªÜT</h6>
                            <li class="list-group-item">Ph√°t ƒë·∫ßu m·ªõi v√¥ l√† Auto kh√¥ng qua l∆∞·ªõi</li>
                            <li class="list-group-item">ƒê·ª° b∆∞·ªõc 1 h√™n xui, 1 l√† hay 2 l√† ra ngo√†i</li>
                            <li class="list-group-item">Si√™u sao c·ªßa ƒë·ªôi c≈©ng</li>
                        </ul>
                        <a href="#" class="btn btn-primary mt-3"><i class="fas fa-calendar-check"></i> Booking ngay</a>
                    </div>
                </div>
            </div>
        </div>

        <h3>C√°c em gh·ªá c√≥ gi√° tr·ªã c·ª±c cao</h3>
        
        <div class="cacemghe">
            <div class="booking">
                <div class="bokking-header">
                    <img src="image/emnamdinh.jpg" alt="Anh Nam ƒê·ªãnh">
                </div>
                <div class="bokking-body">
                    <span class="badge">Gi√° tr·ªã cao</span>
                    <h5 class="card-title">Anh Nam, ƒê·ªãnh L√†m G√¨ Th·∫ø !!!</h5>
                    <p class="card-text">Em gh·ªá c√≥ gi√° tr·ªã c·ª±c cao, tr√¨nh ƒë·ªô si√™u sao, k·ªπ nƒÉng ƒë·ªânh cao, booking ngay k·∫ªo h·∫øt h√†ng</p>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item">Kh√¥ng c√≤n g√¨ ƒë·ªÉ b√†n. Si√™u sao Nam ƒë·ªãnh, ph√°t c·ª© g·ªçi l√† c·ª±c ƒëi·∫øm ƒëƒ©</li>
                        <li class="list-group-item">Tr√¨nh ƒë·ªô b∆∞·ªõc 1 th√¨ ph·∫£i g·ªçi l√† kh·ªßng khi·∫øp, chuy·ªÉn 2 c·ª© g·ªçi l√† si√™u sao</li>
                        <li class="list-group-item">Nh∆∞ng ƒëi·ªÉm y·∫øu l√† h∆°i l√πn, kh√¥ng si√™u sao nh·∫£y ƒë·∫≠p nh∆∞ em ki·ªát tr√™n kia ƒë∆∞·ª£c</li>
                    </ul>
                    <div class="mt-auto">
                        <div class="price-tag" style="position: static; margin: 15px 0;">1.250K</div>
                        <a href="#" class="btn btn-primary"><i class="fas fa-bolt"></i> Booking ngay</a>
                    </div>
                </div>
            </div>
            
            <div class="booking">
                <div class="bokking-header">
                    <img src="image/thangmap.jpg" alt="Th·∫Øng m·∫≠p">
                </div>
                <div class="bokking-body">
                    <span class="badge">M·∫°nh m·∫Ω</span>
                    <h5 class="card-title">Idol Th√†nh ƒê·∫°t</h5>
                    <p class="card-text">Ph√°t th√¨ ƒÉn ƒëi·ªÉm nh∆∞ng g·∫∑p th·∫±ng bi·∫øt ƒë·ª° b∆∞·ªõc m·ªôt th√¨ l√† con chu·ªôt tinh</p>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item">M√ÄY KH·ª¶NG H·∫¢ !!!! üòíüòí</li>
                        <li class="list-group-item">N·∫æU ƒê√ì L√Ä TAO !!!! üòéüòéüòé</li>
                        <li class="list-group-item">KI·ªÜT SAO M√ÄY CAO M√Ä M√ÄY ƒê·∫¶N V·∫¨Y !!!</li>
                        <li class="list-group-item">TH√ÅCH M·ªåI TAY ƒê·∫¨P D∆Ø·ªöI 1M7</li>
                    </ul>
                    <div class="mt-auto">
                        <div class="price-tag" style="position: static; margin: 15px 0;">1.100K</div>
                        <a href="#" class="btn btn-primary"><i class="fas fa-bolt"></i> Booking ngay</a>
                    </div>
                </div>
            </div>
            
            <div class="booking">
                <div class="bokking-header">
                    <img src="image/khoalun.jpg" alt="Nguy·ªÖn ƒê√¨nh Anh Khoa">
                </div>
                <div class="bokking-body">
                    <span class="badge">To√†n di·ªán</span>
                    <h5 class="card-title">Nguy·ªÖn ƒê√¨nh Anh Khoa</h5>
                    <p class="card-text">Em n√†y th√¨ to√†n di·ªán, nh∆∞ng ƒë∆∞·ª£c c√°i l√† s·ª£ ƒëau</p>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item">H·∫•t qua xong emoji g√°y to</li>
                        <li class="list-group-item">ƒêau tay th√¨ ph√°t ki·ªÉu ƒëi·∫øm ch√≥, kh√¥ng ƒëau th√¨ nh·∫£y l√™n ƒë·∫≠p nh∆∞ si√™u sao</li>
                        <li class="list-group-item">B·ªã th·∫±ng m·∫≠p var li√™n t·ª•c v√¨ l√πn nh∆∞ng c√£i kh√¥ng l·∫°i</li>
                    </ul>
                    <div class="mt-auto">
                        <div class="price-tag" style="position: static; margin: 15px 0;">1.050K</div>
                        <a href="#" class="btn btn-primary"><i class="fas fa-bolt"></i> Booking ngay</a>
                    </div>
                </div>
            </div>
            
            <div class="booking">
                <div class="bokking-header">
                    <img src="image/khoacao.jpg" alt="Con ƒëƒ© c·ªßa team">
                </div>
                <div class="bokking-body">
                    <span class="badge">ƒêi√™u luy·ªán</span>
                    <h5 class="card-title">Con ƒêƒ© C·ªßa Team</h5>
                    <p class="card-text">Em th√¨ ƒë∆∞·ª£c c√°i m·ªè l√† ƒëi√™u luy·ªán</p>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item">ƒê·ª° b∆∞·ªõc 1 th√¨ hay</li>
                        <li class="list-group-item">Ph√°t nh∆∞ m·∫•y th·∫±ng beta</li>
                        <li class="list-group-item">Nh∆∞ c√°i th·∫±ng b·ªã down</li>
                    </ul>
                    <div class="mt-auto">
                        <div class="price-tag" style="position: static; margin: 15px 0;">980K</div>
                        <a href="#" class="btn btn-primary"><i class="fas fa-bolt"></i> Booking ngay</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
    <script>
        // Th√™m hi·ªáu ·ª©ng khi cu·ªôn trang
        document.addEventListener('DOMContentLoaded', function() {
            // Hi·ªáu ·ª©ng cho c√°c th·∫ª card khi xu·∫•t hi·ªán tr√™n m√†n h√¨nh
            const cards = document.querySelectorAll('.card, .booking');
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('animate__animated', 'animate__fadeInUp');
                    }
                });
            }, { threshold: 0.1 });
            
            cards.forEach(card => {
                observer.observe(card);
            });
            
            // Hi·ªáu ·ª©ng cho n√∫t booking
            const bookingButtons = document.querySelectorAll('.btn-primary');
            bookingButtons.forEach(button => {
                button.addEventListener('click', function(e) {
                    e.preventDefault();
                    this.classList.add('animate__animated', 'animate__pulse');
                    setTimeout(() => {
                        this.classList.remove('animate__animated', 'animate__pulse');
                    }, 1000);
                    
                    // Hi·ªÉn th·ªã th√¥ng b√°o
                    alert('ƒê√£ th√™m v√†o danh s√°ch booking!');
                });
            });
        });
    </script>
    <div>D·ª± ƒêo√°n ƒê·ªì V·∫≠t</div>
<button type="button" onclick="init()">Start</button>
<div id="webcam-container"></div>
<div id="label-container"></div>
<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest/dist/tf.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@latest/dist/teachablemachine-image.min.js"></script>
<script type="text/javascript">
    // More API functions here:
    // https://github.com/googlecreativelab/teachablemachine-community/tree/master/libraries/image

    // the link to your model provided by Teachable Machine export panel
    const URL = "https://teachablemachine.withgoogle.com/models/nZ3vw9iyE/";

    let model, webcam, labelContainer, maxPredictions;

    // Load the image model and setup the webcam
    async function init() {
        const modelURL = URL + "model.json";
        const metadataURL = URL + "metadata.json";

        // load the model and metadata
        // Refer to tmImage.loadFromFiles() in the API to support files from a file picker
        // or files from your local hard drive
        // Note: the pose library adds "tmImage" object to your window (window.tmImage)
        model = await tmImage.load(modelURL, metadataURL);
        maxPredictions = model.getTotalClasses();

        // Convenience function to setup a webcam
        const flip = true; // whether to flip the webcam
        webcam = new tmImage.Webcam(200, 200, flip); // width, height, flip
        await webcam.setup(); // request access to the webcam
        await webcam.play();
        window.requestAnimationFrame(loop);

        // append elements to the DOM
        document.getElementById("webcam-container").appendChild(webcam.canvas);
        labelContainer = document.getElementById("label-container");
    }

    async function loop() {
        webcam.update(); // update the webcam frame
        await predict();
        window.requestAnimationFrame(loop);
    }
    // hi·ªán th·ªã ƒë√°p √°n cao nh·∫•t
    // run the webcam image through the image model
    async function predict() {
        // predict can take in an image, video or canvas html element
        const predictions = await model.predictTopK(webcam.canvas,1);
        labelContainer.innerText = predictions[0].className;
    }
</script>
<h1 style="text-align: center;">Tr·ªü th√†nh th√†nh vi√™n c·ªßa ch√∫ng t√¥i</h1>
<div class="buy" style="display: flex; gap:40px;justify-content: center;">
    <div class="pricing-card">
        <h5 class="card-title">G√≥i C∆° B·∫£n</h5>
        
        <div class="price-wrapper">
            <span class="price-amount">$50</span>
            <span class="price-period">/month</span>
        </div>
        
        <ul class="features-list">
            <li>
                <svg class="check-icon" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.5 11.5 11 14l4-4m6 2a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
                </svg>
                <span class="feature-text">ƒê∆∞·ª£c h∆∞·ªõng d·∫´n v√† t·∫≠p luy·ªán t·∫°i s√¢n cao ƒë·∫≥ng l√Ω t·ª± tr·ªçng</span>
            </li>
            <li>
                <svg class="check-icon" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.5 11.5 11 14l4-4m6 2a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
                </svg>
                <span class="feature-text">H∆∞·ªõng d·∫´n c√°ch ph√°t b√≥ng c·ª±c k·ª≥ ƒëi·∫øm ƒëƒ©</span>
            </li>
            <li>
                <svg class="check-icon" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.5 11.5 11 14l4-4m6 2a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
                </svg>
                <span class="feature-text">Kh·∫Øc Ph·ª•c C√°c L·ªói Sai C∆° B·∫£n</span>
            </li>
            <li class="unavailable">
                <svg class="check-icon" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.5 11.5 11 14l4-4m6 2a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
                </svg>
                <span class="feature-text">Kh√¥ng L√πa G√†</span>
            </li>
            <li class="unavailable">
                <svg class="check-icon" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.5 11.5 11 14l4-4m6 2a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
                </svg>
                <span class="feature-text">Kh√¥ng B·ªãp</span>
            </li>
            <li class="unavailable">
                <svg class="check-icon" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.5 11.5 11 14l4-4m6 2a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
                </svg>
                <span class="feature-text">Kh√¥ng ƒë√†o Coins</span>
            </li>
            <li class="unavailable">
                <svg class="check-icon" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.5 11.5 11 14l4-4m6 2a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
                </svg>
                <span class="feature-text">Kh√¥ng L·ª´a ƒê·∫£o</span>
            </li>
        </ul>
        
        <button type="button" class="cta-button">Choose plan</button>
        
    </div>
    <div class="pricing-card">
        <h5 class="card-title">G√≥i Trung B√¨nh</h5>
        
        <div class="price-wrapper">
            <span class="price-amount">$75</span>
            <span class="price-period">/month</span>
        </div>
        
        <ul class="features-list">
            <li>
                <svg class="check-icon" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.5 11.5 11 14l4-4m6 2a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
                </svg>
                <span class="feature-text">C√°c Ti·ªán Nghi Nh∆∞ G√≥i C∆° B·∫£n</span>
            </li>
            <li>
                <svg class="check-icon" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.5 11.5 11 14l4-4m6 2a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
                </svg>
                <span class="feature-text">ƒê∆∞·ª£c Thi ƒê·∫•u V·ªõi C√°c Anh L·ªõn M√°u M·∫∑t</span>
            </li>
            <li>
                <svg class="check-icon" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.5 11.5 11 14l4-4m6 2a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
                </svg>
                <span class="feature-text">ƒê∆∞·ª£c Hu·∫•n Luy·ªán Vi√™n N√™u Ra Nh·ªØng L·ªói</span>
            </li>
            <li class="unavailable">
                <svg class="check-icon" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.5 11.5 11 14l4-4m6 2a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
                </svg>
                <span class="feature-text">Kh√¥ng L√πa G√†</span>
            </li>
            <li class="unavailable">
                <svg class="check-icon" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.5 11.5 11 14l4-4m6 2a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
                </svg>
                <span class="feature-text">Kh√¥ng B·ªãp</span>
            </li>
            <li class="unavailable">
                <svg class="check-icon" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.5 11.5 11 14l4-4m6 2a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
                </svg>
                <span class="feature-text">Kh√¥ng ƒë√†o Coins</span>
            </li>
            <li class="unavailable">
                <svg class="check-icon" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.5 11.5 11 14l4-4m6 2a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
                </svg>
                <span class="feature-text">Kh√¥ng L·ª´a ƒê·∫£o</span>
            </li>
        </ul>
        
        <button type="button" class="cta-button">Choose plan</button>
        
    </div>
    <div class="pricing-card">
        <h5 class="card-title">G√≥i Cao C·∫•p</h5>
        
        <div class="price-wrapper">
            <span class="price-amount">$100</span>
            <span class="price-period">/month</span>
        </div>
        
        <ul class="features-list">
            <li>
                <svg class="check-icon" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.5 11.5 11 14l4-4m6 2a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
                </svg>
                <span class="feature-text">C√°c Ti·ªán Nghi Nh∆∞ G√≥i Trung B√¨nh</span>
            </li>
            <li>
                <svg class="check-icon" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.5 11.5 11 14l4-4m6 2a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
                </svg>
                <span class="feature-text">ƒê∆∞·ª£c Em Gh·ªá Idol Th√†nh ƒê·∫°t C·∫ßm Tay Ch·ªâ Ph√°t B√≥ng</span>
            </li>
            <li>
                <svg class="check-icon" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.5 11.5 11 14l4-4m6 2a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
                </svg>
                <span class="feature-text">ƒê∆∞·ª£c Em G√°i Nam ƒê·ªãnh H∆∞·ªõng D·∫´n ƒê·ª° B∆∞·ªõc 1</span>
            </li>
                        <li>
                <svg class="check-icon" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.5 11.5 11 14l4-4m6 2a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
                </svg>
                <span class="feature-text">ƒêƒÉng K√Ω G√≥i N√†y V√¥ Th·∫≥ng ƒê·ªôi Tuy·ªÉn C·ªßa Ae Downy</span>
            </li>
            <li class="unavailable">
                <svg class="check-icon" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.5 11.5 11 14l4-4m6 2a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
                </svg>
                <span class="feature-text">Kh√¥ng L√πa G√†</span>
            </li>
            <li class="unavailable">
                <svg class="check-icon" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.5 11.5 11 14l4-4m6 2a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
                </svg>
                <span class="feature-text">Kh√¥ng B·ªãp</span>
            </li>
            <li class="unavailable">
                <svg class="check-icon" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.5 11.5 11 14l4-4m6 2a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
                </svg>
                <span class="feature-text">Kh√¥ng ƒë√†o Coins</span>
            </li>
            <li class="unavailable">
                <svg class="check-icon" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.5 11.5 11 14l4-4m6 2a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
                </svg>
                <span class="feature-text">Kh√¥ng L·ª´a ƒê·∫£o</span>
            </li>
        </ul>
        
        <button type="button" class="cta-button">Choose plan</button>
        
    </div>
</div>
<div class="Weather">
    <div class="Weather-Header">
      <img src="image/Weather.webp" alt="Weather Icon"/>
      <h1>D·ª± B√°o Th·ªùi Ti·∫øt</h1>
    </div>

    <input type="text" id="cityInput" placeholder="Nh·∫≠p t√™n th√†nh ph·ªë (vd: Hanoi)" />
    <button onclick="fetchWeatherByCity()">Xem th·ªùi ti·∫øt</button>

    <div id="weatherBox">
      <p>ƒêang t·∫£i d·ªØ li·ªáu v·ªã tr√≠...</p>
    </div>

    <div class="forecast" id="forecastBox"></div>

    <p id="location"></p>
  </div>

  <script>
    const apiKey = "1fd939e0567144f7abe94839252907";

    function fetchWeather(lat, lon) {
      const url = `https://api.weatherapi.com/v1/forecast.json?key=${apiKey}&q=${lat},${lon}&days=3&lang=vi`;
      fetchData(url);
    }

    function fetchWeatherByCity() {
      const city = document.getElementById("cityInput").value.trim();
      if (!city) return;
      const url = `https://api.weatherapi.com/v1/forecast.json?key=${apiKey}&q=${encodeURIComponent(city)}&days=3&lang=vi`;
      fetchData(url);
    }

    function fetchData(url) {
      fetch(url)
        .then(res => res.json())
        .then(data => {
          if (data.error) {
            document.getElementById("weatherBox").innerHTML = `<p>L·ªói: ${data.error.message}</p>`;
            document.getElementById("forecastBox").innerHTML = "";
            return;
          }

          const current = `
            <h2>${data.location.name}, ${data.location.country}</h2>
            <p><strong>Nhi·ªát ƒë·ªô:</strong> ${data.current.temp_c}¬∞C</p>
            <p><strong>Tr·∫°ng th√°i:</strong> ${data.current.condition.text}</p>
            <img src="${data.current.condition.icon}" alt="icon th·ªùi ti·∫øt" />
          `;

          const forecastDays = data.forecast.forecastday.map(day => `
            <div class="day">
              <h3>${day.date}</h3>
              <p>Nhi·ªát ƒë·ªô: ${day.day.avgtemp_c}¬∞C</p>
              <p>Th·ªùi ti·∫øt: ${day.day.condition.text}</p>
              <img src="${day.day.condition.icon}" alt="icon" />
            </div>
          `).join("");

          document.getElementById("weatherBox").innerHTML = current;
          document.getElementById("forecastBox").innerHTML = `<h2>D·ª± b√°o 3 ng√†y t·ªõi</h2>${forecastDays}`;
        })
        .catch(err => {
          console.error("L·ªói fetch:", err);
          document.getElementById("weatherBox").innerHTML = "<p>L·ªói khi l·∫•y d·ªØ li·ªáu th·ªùi ti·∫øt.</p>";
          document.getElementById("forecastBox").innerHTML = "";
        });
    }

    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(
        pos => {
          const lat = pos.coords.latitude;
          const lon = pos.coords.longitude;
          document.getElementById("location").innerText = `V·ªã tr√≠ hi·ªán t·∫°i: ${lat}, ${lon}`;
          fetchWeather(lat, lon);
        },
        err => {
          document.getElementById("location").innerText = "Kh√¥ng th·ªÉ l·∫•y v·ªã tr√≠ ng∆∞·ªùi d√πng.";
        }
      );
    }
  </script>
<div class="leaderboard-container" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 40px; border-radius: 20px; margin: 40px 0; color: white; box-shadow: 0 10px 30px rgba(0,0,0,0.3);">
    
    <div class="text-center mb-4">
        <h2 style="color: gold; font-size: 2.5rem; text-shadow: 2px 2px 4px rgba(0,0,0,0.5);">
            üèÜ B·∫¢NG X·∫æP H·∫†NG AE NGU NH·∫§T üèÜ
        </h2>
        <p class="lead" style="color: #ffd700;">Tu·∫ßn n√†y ai l√† th·∫±ng ngu nh·∫•t? Vote ngay!</p>
        
        <div class="d-flex justify-content-center align-items-center mb-4">
            <span>Tu·∫ßn: </span>
            <div class="week-selector" style="display: inline-block; margin-left: 10px;">
                <button class="week-btn active" onclick="changeWeek('current')" style="background: gold; color: black; border: none; padding: 5px 15px; border-radius: 20px; margin: 0 5px; cursor: pointer;">Hi·ªán t·∫°i</button>
                <button class="week-btn" onclick="changeWeek('previous')" style="background: rgba(255,255,255,0.2); border: none; color: white; padding: 5px 15px; border-radius: 20px; margin: 0 5px; cursor: pointer;">Tu·∫ßn tr∆∞·ªõc</button>
                <button class="week-btn" onclick="changeWeek('all')" style="background: rgba(255,255,255,0.2); border: none; color: white; padding: 5px 15px; border-radius: 20px; margin: 0 5px; cursor: pointer;">T·∫•t c·∫£</button>
            </div>
            <span id="week-info" class="ms-3 badge bg-warning">Tu·∫ßn <span id="week-number">0</span></span>
        </div>
        
        <div id="stats" class="text-center mb-3">
            <span class="badge bg-info me-2" id="total-votes">0 phi·∫øu</span>
            <span class="badge bg-success" id="total-voters">0 ng∆∞·ªùi</span>
        </div>
    </div>
    
    <!-- Vote Result Alert -->
    <div id="vote-result" class="alert" style="position: fixed; top: 20px; right: 20px; z-index: 9999; display: none;"></div>
    
    <div class="row">
        <!-- B·∫£ng x·∫øp h·∫°ng -->
        <div class="col-lg-8">
            <div style="background: rgba(255,255,255,0.1); backdrop-filter: blur(10px); border-radius: 15px; padding: 25px; margin-bottom: 20px; border: 1px solid rgba(255,255,255,0.2);">
                <h4 class="mb-4" style="color: #ffd700;">üìä TOP NGU NH·∫§T:</h4>
                <div id="leaderboard-content">
                    <div class="text-center">
                        <div class="spinner-border text-light" role="status">
                            <span class="visually-hidden">Loading...</span>
                        </div>
                        <p class="mt-2">ƒêang t·∫£i b·∫£ng x·∫øp h·∫°ng...</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Vote Section -->
        <div class="col-lg-4">
            <div style="background: rgba(0,0,0,0.3); padding: 20px; border-radius: 15px;">
                <h4 class="mb-4" style="color: #ffd700;">üó≥Ô∏è B·∫¶U CH·ªåN:</h4>
                <p class="mb-3" style="color: #ccc;">Ch·ªçn th·∫±ng b·∫°n nghƒ© l√† <strong>NGU NH·∫§T</strong> tu·∫ßn n√†y:</p>
                
                <div class="candidates-list">
                    <button onclick="voteFor('Cao Ch·∫•n H·∫£i')" class="candidate-btn list-group-item list-group-item-action d-flex align-items-center" style="transition: all 0.3s ease; border: 2px solid transparent; margin-bottom: 10px; width: 100%;">
                        <img src="image/sie√Ωai.jpg" style="width: 50px; height: 50px; border-radius: 50%; object-fit: cover; margin-right: 15px;">
                        <div class="text-start">
                            <strong>Cao Ch·∫•n H·∫£i</strong><br>
                            <small class="text-muted">Ch√¢n nh∆∞ kh√∫c g·ªó</small>
                        </div>
                    </button>
                    
                    <button onclick="voteFor('Nguy·ªÖn Tu·∫•n Duy')" class="candidate-btn list-group-item list-group-item-action d-flex align-items-center" style="transition: all 0.3s ease; border: 2px solid transparent; margin-bottom: 10px; width: 100%;">
                        <img src="image/nguyentuanduy1.jpg" style="width: 50px; height: 50px; border-radius: 50%; object-fit: cover; margin-right: 15px;">
                        <div class="text-start">
                            <strong>Nguy·ªÖn Tu·∫•n Duy</strong><br>
                            <small class="text-muted">Th√≠ch nghi v√† emoji</small>
                        </div>
                    </button>
                    
                    <button onclick="voteFor('D∆∞∆°ng Anh Ki·ªát')" class="candidate-btn list-group-item list-group-item-action d-flex align-items-center" style="transition: all 0.3s ease; border: 2px solid transparent; margin-bottom: 10px; width: 100%;">
                        <img src="image/kietduong.jpg" style="width: 50px; height: 50px; border-radius: 50%; object-fit: cover; margin-right: 15px;">
                        <div class="text-start">
                            <strong>D∆∞∆°ng Anh Ki·ªát</strong><br>
                            <small class="text-muted">Cao nh∆∞ng kh√¥ng bi·∫øt ƒë√°nh</small>
                        </div>
                    </button>
                    
                    <button onclick="voteFor('L√™ ƒê·ª©c Th√†nh')" class="candidate-btn list-group-item list-group-item-action d-flex align-items-center" style="transition: all 0.3s ease; border: 2px solid transparent; margin-bottom: 10px; width: 100%;">
                        <img src="image/AnhThanh.jpg" style="width: 50px; height: 50px; border-radius: 50%; object-fit: cover; margin-right: 15px;">
                        <div class="text-start">
                            <strong>L√™ ƒê·ª©c Th√†nh</strong><br>
                            <small class="text-muted">Hu·∫•n luy·ªán vi√™n online</small>
                        </div>
                    </button>
                    
                    <button onclick="voteFor('Anh Nam ƒê·ªãnh')" class="candidate-btn list-group-item list-group-item-action d-flex align-items-center" style="transition: all 0.3s ease; border: 2px solid transparent; margin-bottom: 10px; width: 100%;">
                        <img src="image/emnamdinh.jpg" style="width: 50px; height: 50px; border-radius: 50%; object-fit: cover; margin-right: 15px;">
                        <div class="text-start">
                            <strong>Anh Nam ƒê·ªãnh</strong><br>
                            <small class="text-muted">Si√™u sao Nam ƒê·ªãnh</small>
                        </div>
                    </button>
                    
                    <button onclick="voteFor('Idol Th√†nh ƒê·∫°t')" class="candidate-btn list-group-item list-group-item-action d-flex align-items-center" style="transition: all 0.3s ease; border: 2px solid transparent; margin-bottom: 10px; width: 100%;">
                        <img src="image/thangmap.jpg" style="width: 50px; height: 50px; border-radius: 50%; object-fit: cover; margin-right: 15px;">
                        <div class="text-start">
                            <strong>Idol Th√†nh ƒê·∫°t</strong><br>
                            <small class="text-muted">M√†y kh·ªßng h·∫£???</small>
                        </div>
                    </button>
                    
                    <button onclick="voteFor('Nguy·ªÖn ƒê√¨nh Anh Khoa')" class="candidate-btn list-group-item list-group-item-action d-flex align-items-center" style="transition: all 0.3s ease; border: 2px solid transparent; margin-bottom: 10px; width: 100%;">
                        <img src="image/khoalun.jpg" style="width: 50px; height: 50px; border-radius: 50%; object-fit: cover; margin-right: 15px;">
                        <div class="text-start">
                            <strong>Nguy·ªÖn ƒê√¨nh Anh Khoa</strong><br>
                            <small class="text-muted">S·ª£ ƒëau nh∆∞ng g√°y to</small>
                        </div>
                    </button>
                    
                    <button onclick="voteFor('Con ƒêƒ© C·ªßa Team')" class="candidate-btn list-group-item list-group-item-action d-flex align-items-center" style="transition: all 0.3s ease; border: 2px solid transparent; margin-bottom: 10px; width: 100%;">
                        <img src="image/khoacao.jpg" style="width: 50px; height: 50px; border-radius: 50%; object-fit: cover; margin-right: 15px;">
                        <div class="text-start">
                            <strong>Con ƒêƒ© C·ªßa Team</strong><br>
                            <small class="text-muted">M·ªè ƒëi√™u luy·ªán</small>
                        </div>
                    </button>
                </div>
                
                <div class="mt-4 text-center">
                    <p style="color: #ccc; font-size: 0.9rem;">
                        <i class="fas fa-info-circle"></i> 
                        M·ªói ng∆∞·ªùi ch·ªâ vote 1 l·∫ßn/tu·∫ßn (theo browser)
                    </p>
                    <button onclick="showVoteHistory()" class="btn btn-sm btn-outline-light">
                        <i class="fas fa-history"></i> Xem l·ªãch s·ª≠ vote
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Confetti Container -->
<div id="confetti-container" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 9997;"></div>

<script>
// ================== CONFIGURATION ==================
const WEB_APP_URL = 'https://script.google.com/macros/s/AKfycbyxApQIIvnron1oyOCT5K_UuLOuuBeD0-DAjtKiqWS_yvN0_2NRWkPnye9W3YpXutJa/exec';

// map avatar d√πng chung
const AVATAR_MAP = {
    'Cao Ch·∫•n H·∫£i': 'image/sie√Ωai.jpg',
    'Nguy·ªÖn Tu·∫•n Duy': 'image/nguyentuanduy1.jpg',
    'D∆∞∆°ng Anh Ki·ªát': 'image/kietduong.jpg',
    'L√™ ƒê·ª©c Th√†nh': 'image/AnhThanh.jpg',
    'Anh Nam ƒê·ªãnh': 'image/emnamdinh.jpg',
    'Idol Th√†nh ƒê·∫°t': 'image/thangmap.jpg',
    'Nguy·ªÖn ƒê√¨nh Anh Khoa': 'image/khoalun.jpg',
    'Con ƒêƒ© C·ªßa Team': 'image/khoacao.jpg'
};

// ================== UTILITY FUNCTIONS ==================
function getCurrentWeek() {
    const now = new Date();
    const start = new Date(now.getFullYear(), 0, 1);
    const diff = now - start;
    const oneWeek = 1000 * 60 * 60 * 24 * 7;
    return Math.floor(diff / oneWeek) + 1;
}

function showNotification(message, type = 'success') {
    const alertDiv = document.getElementById('vote-result');
    if (!alertDiv) {
        console.warn('Vote result div not found');
        alert(message); // Fallback
        return;
    }
    alertDiv.textContent = message;
    alertDiv.className = `alert alert-${type}`;
    alertDiv.style.display = 'block';
    
    setTimeout(() => {
        alertDiv.style.display = 'none';
    }, 5000);
}

function createConfetti() {
    const container = document.getElementById('confetti-container');
    if (!container) return;
    
    const colors = ['#FFD700', '#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FFEAA7'];
    
    for (let i = 0; i < 50; i++) {
        const confetti = document.createElement('div');
        confetti.style.cssText = `
            position: absolute;
            width: 10px;
            height: 10px;
            background: ${colors[Math.floor(Math.random() * colors.length)]};
            border-radius: 50%;
            z-index: 9998;
            animation: confetti-fall ${Math.random() * 2 + 1}s linear forwards;
            left: ${Math.random() * 100}%;
            top: -20px;
        `;
        
        container.appendChild(confetti);
        setTimeout(() => confetti.remove(), 2000);
    }
}

// Add confetti keyframes
const style = document.createElement('style');
style.textContent = `
    @keyframes confetti-fall {
        0% { transform: translateY(-100px) rotate(0deg); }
        100% { transform: translateY(100vh) rotate(360deg); }
    }
`;
document.head.appendChild(style);

// ================== VOTE FUNCTIONS ==================
async function voteFor(name) {
    const button = event?.target?.closest('button');
    const week = getCurrentWeek();
    const votedKey = `voted-week-${week}`;

    if (localStorage.getItem(votedKey)) {
        showNotification(`B·∫°n ƒë√£ vote tu·∫ßn n√†y r·ªìi! Tu·∫ßn sau quay l·∫°i nh√©! üòÇ`, 'warning');
        if (button) {
            button.classList.add('animate__animated', 'animate__shakeX');
            setTimeout(() => button.classList.remove('animate__animated', 'animate__shakeX'), 1000);
        }
        return;
    }

    if (button) {
        const originalHTML = button.innerHTML;
        button.innerHTML = '<i class="fas fa-spinner fa-spin"></i> ƒêang vote...';
        button.disabled = true;
        setTimeout(() => { button.innerHTML = originalHTML; button.disabled = false; }, 3000);
    }

    const payload = {
        action: 'vote',
        name,
        score: 1,                      // ƒêi·ªÉmNgu = 1 cho m·ªói vote
        week,
        avatar: AVATAR_MAP[name] || '',
        time: new Date().toISOString()
    };

    // Th·ª≠ g·ª≠i POST (CORS) t·ªõi Apps Script
    try {
        const res = await fetch(WEB_APP_URL, {
            method: 'POST',
            mode: 'cors',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(payload)
        });

        // N·∫øu server tr·∫£ JSON
        if (res.ok) {
            const data = await res.json();
            if (data && data.success) {
                // L∆∞u tr·∫°ng th√°i ƒë√£ vote
                localStorage.setItem(votedKey, name);
                localStorage.setItem(`voted-time-${week}`, new Date().toISOString());

                createConfetti();
                showNotification(`‚úÖ ƒê√£ vote "${name}" (server)`, 'success');

                if (button) {
                    button.classList.add('voted');
                    button.style.background = 'linear-gradient(45deg, #4CAF50, #8BC34A)';
                    button.style.color = 'white';
                    button.style.borderColor = '#4CAF50';
                }

                setTimeout(() => loadLeaderboard(currentWeekType), 800);
                return;
            } else {
                console.warn('Server responded without success:', data);
            }
        } else {
            console.warn('Server returned status', res.status);
        }
    } catch (err) {
        console.warn('Fetch to WEB_APP_URL failed:', err);
    }

    // N·∫øu POST kh√¥ng th√†nh c√¥ng, th·ª≠ JSONP (tr∆∞·ªùng h·ª£p Apps Script d√πng output callback)
    try {
        window.handleVoteResponse = function(data) {
            if (data && data.success) {
                localStorage.setItem(votedKey, name);
                localStorage.setItem(`voted-time-${week}`, new Date().toISOString());
                createConfetti();
                showNotification(`‚úÖ ƒê√£ vote "${name}" (jsonp)`, 'success');
                if (button) {
                    button.classList.add('voted');
                    button.style.background = 'linear-gradient(45deg, #4CAF50, #8BC34A)';
                    button.style.color = 'white';
                    button.style.borderColor = '#4CAF50';
                }
                setTimeout(() => loadLeaderboard(currentWeekType), 800);
            } else {
                showNotification(`L·ªói khi vote: ${data?.message || 'Kh√¥ng x√°c ƒë·ªãnh'}`, 'danger');
            }
            delete window.handleVoteResponse;
        };

        const script = document.createElement('script');
        script.src = `${WEB_APP_URL}?action=vote&name=${encodeURIComponent(name)}&week=${week}&avatar=${encodeURIComponent(payload.avatar)}&callback=handleVoteResponse`;
        document.head.appendChild(script);
        setTimeout(() => { if (document.head.contains(script)) document.head.removeChild(script); }, 10000);
        return;
    } catch (err) {
        console.warn('JSONP fallback failed:', err);
    }

    // Cu·ªëi c√πng fallback local n·∫øu t·∫•t c·∫£ ƒë·ªÅu th·∫•t b·∫°i
    voteLocalFallback(name, button);
}

function voteLocalFallback(name, button) {
    const week = getCurrentWeek();
    const key = `local-votes-week-${week}`;
    let votes = JSON.parse(localStorage.getItem(key) || '{}');
    votes[name] = (votes[name] || 0) + 1;
    localStorage.setItem(key, JSON.stringify(votes));

    localStorage.setItem(`voted-week-${week}`, name);
    localStorage.setItem(`voted-time-${week}`, new Date().toISOString());

    showNotification(`‚úÖ ƒê√£ vote "${name}" (local storage)`, 'info');

    if (button) {
        button.classList.add('voted');
        button.style.background = 'linear-gradient(45deg, #4CAF50, #8BC34A)';
        button.style.color = 'white';
        button.style.borderColor = '#4CAF50';
    }

    setTimeout(() => loadLeaderboard(currentWeekType), 500);
}

// ================== LEADERBOARD FUNCTIONS ==================
let currentWeekType = 'current';

async function loadLeaderboard(weekType = 'current') {
    currentWeekType = weekType;
    const leaderboardContent = document.getElementById('leaderboard-content');
    if (!leaderboardContent) return;

    leaderboardContent.innerHTML = `
        <div class="text-center">
            <div class="spinner-border text-light" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            <p class="mt-2">ƒêang t·∫£i b·∫£ng x·∫øp h·∫°ng...</p>
        </div>
    `;

    const weekParam = (weekType === 'previous') ? (getCurrentWeek() - 1) : (weekType === 'all' ? 'all' : getCurrentWeek());
    const url = `${WEB_APP_URL}?action=getLeaderboard&week=${encodeURIComponent(weekParam)}&ts=${Date.now()}`;

    // Th·ª≠ fetch JSON t·ª´ server
    try {
        const res = await fetch(url, { method: 'GET', mode: 'cors' });
        if (res.ok) {
            const data = await res.json();
            if (data && data.success) {
                // N·∫øu server tr·∫£ danh s√°ch, hi·ªÉn th·ªã
                displayLeaderboard(data.leaderboard || [], data.totalVotes || 0, data.week || weekParam);
                return;
            } else {
                console.warn('Leaderboard API returned no success, fallback to local:', data);
            }
        } else {
            console.warn('Leaderboard fetch returned status', res.status);
        }
    } catch (err) {
        console.warn('Leaderboard fetch failed:', err);
    }

    // N·∫øu server kh√¥ng tr·∫£, fallback sang localStorage
    loadLocalLeaderboard(weekType);
}

function displayLeaderboard(leaderboard, totalVotes, week) {
    const leaderboardContent = document.getElementById('leaderboard-content');
    const weekNumberElement = document.getElementById('week-number');
    const totalVotesElement = document.getElementById('total-votes');
    const totalVotersElement = document.getElementById('total-voters');
    
    if (!leaderboardContent) {
        console.error('Leaderboard content element not found');
        return;
    }
    
    // C·∫≠p nh·∫≠t th√¥ng tin tu·∫ßn
    if (weekNumberElement) {
        weekNumberElement.textContent = week === 'all' ? 'T·∫•t c·∫£' : week;
    }
    
    if (totalVotesElement) {
        totalVotesElement.textContent = `${totalVotes || 0} phi·∫øu`;
    }
    
    if (totalVotersElement) {
        totalVotersElement.textContent = `${leaderboard?.length || 0} ng∆∞·ªùi`;
    }
    
    if (!leaderboard || leaderboard.length === 0) {
        leaderboardContent.innerHTML = `
            <div class="text-center" style="color: #ccc;">
                <i class="fas fa-trophy fa-3x mb-3"></i>
                <h5>Ch∆∞a c√≥ ai b·ªã vote ngu!</h5>
                <p>H√£y l√† ng∆∞·ªùi ƒë·∫ßu ti√™n vote cho ae!</p>
            </div>
        `;
        return;
    }
    
    let html = '<div class="table-responsive">';
    leaderboard.forEach((item, index) => {
        const percentage = totalVotes > 0 ? Math.round((item.score / totalVotes) * 100) : 0;
        const rankColors = [
            'linear-gradient(45deg, #FFD700, #FFA500)',
            'linear-gradient(45deg, #C0C0C0, #A9A9A9)',
            'linear-gradient(45deg, #CD7F32, #8B4513)',
            'linear-gradient(45deg, #6c757d, #495057)'
        ];
        const rankColor = rankColors[Math.min(index, 3)];
        
        html += `
            <div class="leaderboard-item d-flex align-items-center mb-3 p-3 rounded" style="background: rgba(255,255,255,0.05);">
                <div class="rank-badge me-3" style="width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; color: white; background: ${rankColor};">
                    ${index + 1}
                </div>
                <div class="flex-grow-1">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <div class="d-flex align-items-center">
                            <img src="${item.avatar || 'image/anhemdowny.jpg'}" style="width: 40px; height: 40px; border-radius: 50%; object-fit: cover; margin-right: 15px;">
                            <div>
                                <h6 class="mb-0" style="color: ${index === 0 ? 'gold' : 'white'}">
                                    ${index === 0 ? 'üëë ' : ''}${item.name}
                                </h6>
                                <small class="text-muted">${item.score} phi·∫øu (${percentage}%)</small>
                            </div>
                        </div>
                        <span class="badge ${index === 0 ? 'bg-warning' : 'bg-secondary'}">
                            ${getBadgeTitle(index)}
                        </span>
                    </div>
                    <div class="progress" style="height: 10px; background: rgba(255,255,255,0.2); border-radius: 5px;">
                        <div class="progress-bar" role="progressbar" style="width: ${percentage}%; background: ${rankColor}; border-radius: 5px;"></div>
                    </div>
                </div>
            </div>
        `;
    });
    html += '</div>';
    
    leaderboardContent.innerHTML = html;
}

function getBadgeTitle(rank) {
    const badges = ['üëë VUA NGU', 'ü•à PH√ì NGU', 'ü•â NGU T·∫¨P S·ª∞', 'ü§° NGU CH√çNH HI·ªÜU', 'üêí NGU B√åNH TH∆Ø·ªúNG'];
    return badges[Math.min(rank, badges.length - 1)];
}

function loadLocalLeaderboard(weekType) {
    const week = weekType === 'current' ? getCurrentWeek() : 
                 weekType === 'previous' ? getCurrentWeek() - 1 : 'all';
    
    let allVotes = {};
    if (week === 'all') {
        // T·ªïng h·ª£p t·∫•t c·∫£ tu·∫ßn
        for (let i = 0; i < 10; i++) {
            const key = `local-votes-week-${getCurrentWeek() - i}`;
            const weekVotes = JSON.parse(localStorage.getItem(key) || '{}');
            Object.keys(weekVotes).forEach(name => {
                allVotes[name] = (allVotes[name] || 0) + weekVotes[name];
            });
        }
    } else {
        const key = `local-votes-week-${week}`;
        allVotes = JSON.parse(localStorage.getItem(key) || '{}');
    }
    
    const leaderboard = Object.entries(allVotes)
        .map(([name, score]) => ({ name, score }))
        .sort((a, b) => b.score - a.score);
    
    const totalVotes = leaderboard.reduce((sum, item) => sum + item.score, 0);
    
    // Th√™m avatar
    const avatarMap = {
        'Cao Ch·∫•n H·∫£i': 'image/sie√Ωai.jpg',
        'Nguy·ªÖn Tu·∫•n Duy': 'image/nguyentuanduy1.jpg',
        'D∆∞∆°ng Anh Ki·ªát': 'image/kietduong.jpg',
        'L√™ ƒê·ª©c Th√†nh': 'image/AnhThanh.jpg',
        'Anh Nam ƒê·ªãnh': 'image/emnamdinh.jpg',
        'Idol Th√†nh ƒê·∫°t': 'image/thangmap.jpg',
        'Nguy·ªÖn ƒê√¨nh Anh Khoa': 'image/khoalun.jpg',
        'Con ƒêƒ© C·ªßa Team': 'image/khoacao.jpg'
    };
    
    leaderboard.forEach(item => {
        item.avatar = avatarMap[item.name] || 'image/anhemdowny.jpg';
    });
    
    displayLeaderboard(leaderboard, totalVotes, week === 'all' ? 'all' : week);
}

function changeWeek(weekType) {
    // Update button styles
    document.querySelectorAll('.week-btn').forEach(btn => {
        btn.style.background = 'rgba(255,255,255,0.2)';
        btn.style.color = 'white';
    });
    event.target.style.background = 'gold';
    event.target.style.color = 'black';
    
    // Load leaderboard
    loadLeaderboard(weekType);
}

function showVoteHistory() {
    const week = getCurrentWeek();
    const votedKey = `voted-week-${week}`;
    const votedName = localStorage.getItem(votedKey);
    const votedTime = localStorage.getItem(`voted-time-${week}`);
    
    if (!votedName) {
        showNotification('B·∫°n ch∆∞a vote tu·∫ßn n√†y!', 'info');
        return;
    }
    
    const timeStr = votedTime ? new Date(votedTime).toLocaleString('vi-VN') : 'Kh√¥ng x√°c ƒë·ªãnh';
    showNotification(`B·∫°n ƒë√£ vote cho "${votedName}" v√†o ${timeStr}`, 'info');
}

// ================== BATTLE TIME FEATURE ==================
function checkBattleTime() {
    const now = new Date();
    const day = now.getDay();    
    const hour = now.getHours();
    
    // Th·ª© 5,7,CN t·ª´ 12h-17h
    const isBattleTime = (
        (day === 4 || day === 6 || day === 0) && 
        hour >= 12 && hour < 17
    );
    
    return isBattleTime;
}

function applyBattleTimeEffects() {
    if (!checkBattleTime()) return;
    
    const container = document.querySelector('.leaderboard-container');
    if (container) {
        // Th√™m animation CSS
        const battleStyle = document.createElement('style');
        battleStyle.textContent = `
            @keyframes pulse-border {
                0% { box-shadow: 0 0 0 0 rgba(255, 0, 0, 0.7); }
                70% { box-shadow: 0 0 0 10px rgba(255, 0, 0, 0); }
                100% { box-shadow: 0 0 0 0 rgba(255, 0, 0, 0); }
            }
            .battle-time {
                animation: pulse-border 1s infinite;
                border: 3px solid red !important;
            }
        `;
        document.head.appendChild(battleStyle);
        
        container.classList.add('battle-time');
        
        // Th√™m th√¥ng b√°o battle time
        const battleAlert = document.createElement('div');
        battleAlert.className = 'alert alert-danger text-center';
        battleAlert.innerHTML = `
            <i class="fas fa-fist-raised"></i> 
            <strong>BATTLE TIME!</strong> Th·ª© 5,7,CN (12h-17h) - Vote ƒë∆∞·ª£c x2 ƒëi·ªÉm!
        `;
        container.prepend(battleAlert);
    }
}

// ================== INITIALIZATION ==================
document.addEventListener('DOMContentLoaded', function() {
    // Load leaderboard khi trang t·∫£i
    loadLeaderboard('current');
    
    // Ki·ªÉm tra battle time
    applyBattleTimeEffects();
    
    // Ki·ªÉm tra ƒë√£ vote ch∆∞a v√† highlight button
    const week = getCurrentWeek();
    const votedName = localStorage.getItem(`voted-week-${week}`);
    if (votedName) {
        document.querySelectorAll('.candidate-btn').forEach(btn => {
            if (btn.textContent.includes(votedName)) {
                btn.classList.add('voted');
                btn.style.background = 'linear-gradient(45deg, #4CAF50, #8BC34A)';
                btn.style.color = 'white';
                btn.style.borderColor = '#4CAF50';
            }
        });
    }
    
    // Th√™m animation cho candidate buttons
    document.querySelectorAll('.candidate-btn').forEach(btn => {
        btn.addEventListener('mouseenter', function() {
            if (!this.classList.contains('voted')) {
                this.style.transform = 'translateY(-5px)';
                this.style.borderColor = 'gold';
                this.style.boxShadow = '0 5px 15px rgba(255, 215, 0, 0.3)';
            }
        });
        
        btn.addEventListener('mouseleave', function() {
            if (!this.classList.contains('voted')) {
                this.style.transform = '';
                this.style.borderColor = 'transparent';
                this.style.boxShadow = '';
            }
        });
    });
});

// Th√™m fallback CSS n·∫øu kh√¥ng c√≥
if (!document.querySelector('.animate__shakeX')) {
    const animateStyle = document.createElement('style');
    animateStyle.textContent = `
        @keyframes shakeX {
            from, to { transform: translate3d(0, 0, 0); }
            10%, 30%, 50%, 70%, 90% { transform: translate3d(-10px, 0, 0); }
            20%, 40%, 60%, 80% { transform: translate3d(10px, 0, 0); }
        }
        .animate__animated { animation-duration: 1s; animation-fill-mode: both; }
        .animate__shakeX { animation-name: shakeX; }
    `;
    document.head.appendChild(animateStyle);
}
</script>
<div class="container my-5">
    <div class="taixiu-game-container">
        <h1 class="game-title text-center mb-4">üé≤ GAME T√ÄI X·ªàU üé≤</h1>
        
        <div class="game-board">
            <!-- Ph·∫ßn hi·ªÉn th·ªã s·ªë d∆∞ -->
            <div class="balance-display text-center mb-4">
                <div class="balance-card">
                    <i class="fas fa-wallet"></i>
                    <span class="balance-label">S·ªë d∆∞:</span>
                    <span class="balance-amount" id="balance">1,000,000</span>
                    <span class="currency">ƒë</span>
                </div>
            </div>

            <!-- X√∫c x·∫Øc -->
            <div class="dice-container">
                <div class="dice" id="dice1">?</div>
                <div class="dice" id="dice2">?</div>
                <div class="dice" id="dice3">?</div>
            </div>
            
            <!-- K·∫øt qu·∫£ -->
            <div class="result-display" id="resultDisplay" style="display:none;">
                <h3>K·∫øt Qu·∫£</h3>
                <div class="total-score" id="totalScore">0</div>
                <div class="outcome" id="outcome"></div>
            </div>
            
            <!-- Form ch∆°i -->
            <div class="betting-form">
                <h4 class="text-center mb-3">üéØ ƒê·∫∑t C∆∞·ª£c</h4>
                
                <!-- Ch·ªçn T√†i/X·ªâu -->
                <div class="bet-selection mb-4">
                    <button class="bet-btn tai" id="btnTai" onclick="selectBet('tai')">
                        <i class="fas fa-arrow-up"></i> T√ÄI
                        <small>(11-18)</small>
                    </button>
                    <button class="bet-btn xiu" id="btnXiu" onclick="selectBet('xiu')">
                        <i class="fas fa-arrow-down"></i> X·ªàU
                        <small>(3-10)</small>
                    </button>
                </div>
                
                <!-- Nh·∫≠p s·ªë ti·ªÅn -->
                <div class="amount-input-section mb-3">
                    <label class="form-label">üíµ S·ªë Ti·ªÅn C∆∞·ª£c:</label>
                    <input type="number" class="form-control amount-input" id="betAmount" 
                           placeholder="Nh·∫≠p s·ªë ti·ªÅn" min="10000" step="10000">
                </div>
                
                <!-- N√∫t c∆∞·ª£c nhanh -->
                <div class="quick-amounts mb-4">
                    <button class="quick-btn" onclick="setAmount(10000)">10K</button>
                    <button class="quick-btn" onclick="setAmount(50000)">50K</button>
                    <button class="quick-btn" onclick="setAmount(100000)">100K</button>
                    <button class="quick-btn" onclick="setAmount(500000)">500K</button>
                    <button class="quick-btn" onclick="setAmount(1000000)">1M</button>
                </div>
                
                <!-- N√∫t ch∆°i -->
                <button class="play-btn" id="playBtn" onclick="playGame()">
                    <i class="fas fa-dice"></i> L·∫ÆC X√öC X·∫ÆC
                </button>
            </div>
            
            <!-- L·ªãch s·ª≠ -->
            <div class="history-section mt-4">
                <h5 class="text-center mb-3">üìä L·ªãch S·ª≠ Ch∆°i</h5>
                <div class="history-list" id="historyItems">
                    <p class="text-center text-muted">Ch∆∞a c√≥ l·ªãch s·ª≠</p>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
// JavaScript cho Game T√†i X·ªâu
let gameBalance = 1000000;
let selectedBet = null;
let gameHistory = [];

function selectBet(type) {
    selectedBet = type;
    document.getElementById('btnTai').classList.remove('active');
    document.getElementById('btnXiu').classList.remove('active');
    
    if (type === 'tai') {
        document.getElementById('btnTai').classList.add('active');
    } else {
        document.getElementById('btnXiu').classList.add('active');
    }
}

function setAmount(amount) {
    document.getElementById('betAmount').value = amount;
}

function updateGameBalance() {
    document.getElementById('balance').textContent = gameBalance.toLocaleString('vi-VN');
}

function showGameMessage(text, isWin) {
    // T·∫°o message element n·∫øu ch∆∞a c√≥
    let msg = document.getElementById('gameMessage');
    if (!msg) {
        msg = document.createElement('div');
        msg.id = 'gameMessage';
        msg.className = 'game-message';
        document.body.appendChild(msg);
    }
    
    msg.textContent = text;
    msg.className = 'game-message ' + (isWin ? 'win' : 'lose');
    msg.style.display = 'block';
    
    setTimeout(() => {
        msg.style.display = 'none';
    }, 3000);
}

function addGameHistory(betType, amount, dices, total, result, won) {
    const item = {
        betType,
        amount,
        dices,
        total,
        result,
        won,
        time: new Date().toLocaleTimeString('vi-VN')
    };
    
    gameHistory.unshift(item);
    if (gameHistory.length > 10) gameHistory.pop();
    
    updateHistoryDisplay();
}

function updateHistoryDisplay() {
    const container = document.getElementById('historyItems');
    if (gameHistory.length === 0) {
        container.innerHTML = '<p class="text-center text-muted">Ch∆∞a c√≥ l·ªãch s·ª≠</p>';
        return;
    }
    
    container.innerHTML = gameHistory.map(item => `
        <div class="history-item ${item.won ? 'win' : 'lose'}">
            <div class="history-info">
                <div class="history-time">
                    <i class="far fa-clock"></i> ${item.time}
                </div>
                <div class="history-details">
                    C∆∞·ª£c: ${item.betType.toUpperCase()} | 
                    X√∫c x·∫Øc: [${item.dices.join(', ')}] = ${item.total} 
                    (${item.result === 'tai' ? 'üî∫ T√ÄI' : 'üîª X·ªàU'})
                </div>
            </div>
            <div class="history-amount ${item.won ? 'win' : 'lose'}">
                ${item.won ? '+' : '-'}${item.amount.toLocaleString('vi-VN')}ƒë
            </div>
        </div>
    `).join('');
}

async function playGame() {
    const betAmount = parseInt(document.getElementById('betAmount').value);
    
    if (!selectedBet) {
        alert('‚ö†Ô∏è Vui l√≤ng ch·ªçn T√†i ho·∫∑c X·ªâu!');
        return;
    }
    
    if (!betAmount || betAmount < 10000) {
        alert('‚ö†Ô∏è S·ªë ti·ªÅn c∆∞·ª£c t·ªëi thi·ªÉu l√† 10,000ƒë!');
        return;
    }
    
    if (betAmount > gameBalance) {
        alert('‚ö†Ô∏è S·ªë d∆∞ kh√¥ng ƒë·ªß!');
        return;
    }
    
    // Disable button
    document.getElementById('playBtn').disabled = true;
    document.getElementById('resultDisplay').style.display = 'none';
    
    // Tr·ª´ ti·ªÅn c∆∞·ª£c
    gameBalance -= betAmount;
    updateGameBalance();
    
    // Animation l·∫Øc x√∫c x·∫Øc
    const dice1 = document.getElementById('dice1');
    const dice2 = document.getElementById('dice2');
    const dice3 = document.getElementById('dice3');
    
    [dice1, dice2, dice3].forEach(d => {
        d.classList.add('rolling');
        d.textContent = '?';
    });
    
    // Hi·ªáu ·ª©ng lƒÉn
    const rollInterval = setInterval(() => {
        dice1.textContent = Math.floor(Math.random() * 6) + 1;
        dice2.textContent = Math.floor(Math.random() * 6) + 1;
        dice3.textContent = Math.floor(Math.random() * 6) + 1;
    }, 100);
    
    // K·∫øt qu·∫£ sau 2 gi√¢y
    setTimeout(() => {
        clearInterval(rollInterval);
        
        const d1 = Math.floor(Math.random() * 6) + 1;
        const d2 = Math.floor(Math.random() * 6) + 1;
        const d3 = Math.floor(Math.random() * 6) + 1;
        const total = d1 + d2 + d3;
        const result = total >= 11 ? 'tai' : 'xiu';
        
        dice1.textContent = d1;
        dice2.textContent = d2;
        dice3.textContent = d3;
        
        [dice1, dice2, dice3].forEach(d => d.classList.remove('rolling'));
        
        // Hi·ªÉn th·ªã k·∫øt qu·∫£
        document.getElementById('totalScore').textContent = total;
        const outcomeEl = document.getElementById('outcome');
        outcomeEl.textContent = result === 'tai' ? 'üî∫ T√ÄI' : 'üîª X·ªàU';
        outcomeEl.className = 'outcome ' + result;
        document.getElementById('resultDisplay').style.display = 'block';
        
        // T√≠nh to√°n th·∫Øng/thua
        const won = selectedBet === result;
        if (won) {
            const winAmount = betAmount * 2;
            gameBalance += winAmount;
            showGameMessage(`üéâ TH·∫ÆNG! +${winAmount.toLocaleString('vi-VN')}ƒë`, true);
        } else {
            showGameMessage(`üò¢ THUA! -${betAmount.toLocaleString('vi-VN')}ƒë`, false);
        }
        
        updateGameBalance();
        addGameHistory(selectedBet, betAmount, [d1, d2, d3], total, result, won);
        
        // B·∫≠t l·∫°i n√∫t
        document.getElementById('playBtn').disabled = false;
        
    }, 2000);
}

// Kh·ªüi t·∫°o khi load trang
document.addEventListener('DOMContentLoaded', function() {
    updateGameBalance();
});
</script>
<script src="https://cdn.jsdelivr.net/npm/flowbite@4.0.1/dist/flowbite.min.js"></script>
</body>
</html>